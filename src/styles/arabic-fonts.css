/* Complete Arabic Support - All Elements */

/* ====== FONTS ====== */

/* 1. Arabic Site Title Font - Gulzar */
:lang(ar) .font-title,
:lang(ar) header h1,
:lang(ar) header h2 {
  font-family: 'Gulzar', 'Noto Sans Arabic', 'Arial Unicode MS', sans-serif !important;
}

/* 2. Arabic Navigation Font - Gulzar */
:lang(ar) .font-navbar,
:lang(ar) nav,
:lang(ar) nav a,
:lang(ar) nav ul,
:lang(ar) nav li {
  font-family: 'Gulzar', 'Noto Sans Arabic', 'Arial Unicode MS', sans-serif !important;
}

/* 3. Arabic Post Content Font - Amiri */  
:lang(ar) .heti,
:lang(ar) .font-serif,
:lang(ar) main .heti,
:lang(ar) article {
  font-family: 'Amiri', 'Noto Serif Arabic', 'Times New Roman', serif !important;
}

/* 4. Arabic Footer Font - Gulzar */
:lang(ar) footer,
:lang(ar) footer p,
:lang(ar) footer a {
  font-family: 'Gulzar', 'Noto Sans Arabic', 'Arial Unicode MS', sans-serif !important;
}

/* ====== MOBILE NAVBAR FONTS ====== */

/* 5. Mobile Navbar Site Title - Default English Font */
.mobile-title-link {
  font-family: 'Snell-Black','EarlySummer-VF', 'STIX Two Text', 'STIX', 'Times New Roman', serif !important;
  font-weight: 700 !important;
  font-variation-settings: "wght" 700 !important;
}

/* 6. Arabic Mobile Navbar Site Title - Gulzar Font */
:lang(ar) .mobile-title-link,
:lang(ar) .arabic-title {
  font-family: 'Gulzar', 'Noto Sans Arabic', 'Arial Unicode MS', sans-serif !important;
  direction: rtl !important;
  text-align: right !important;
}

/* 7. Mobile Menu Items - Default English Font */
.mobile-menu-item {
  font-family: 'EarlySummer-VF', 'STIX Two Text', 'STIX', 'Times New Roman', serif !important;
  font-weight: 600 !important;
}

/* 8. Arabic Mobile Menu Items - Gulzar Font */
:lang(ar) .mobile-menu-item,
:lang(ar) .mobile-menu-item.rtl {
  font-family: 'Gulzar', 'Noto Sans Arabic', 'Arial Unicode MS', sans-serif !important;
  direction: rtl !important;
  text-align: right !important;
}

/* ====== RTL LAYOUT ====== */

/* 9. Site Title RTL */
:lang(ar) header,
:lang(ar) header h1,
:lang(ar) header h2,
:lang(ar) #site-title-link {
  direction: rtl;
  text-align: right;
}

/* 10. Navigation RTL */
:lang(ar) nav,
:lang(ar) nav ul,
:lang(ar) nav li,
:lang(ar) nav a {
  direction: rtl;
  text-align: right;
}

/* 11. Main Content RTL */
:lang(ar) .heti,
:lang(ar) main,
:lang(ar) article {
  direction: rtl;
  text-align: right;
}

/* 12. Footer RTL */
:lang(ar) footer,
:lang(ar) footer p,
:lang(ar) footer a {
  direction: rtl;
  text-align: right;
}

/* ====== MOBILE NAVBAR LAYOUT ARRANGEMENT ====== */

/* 13. Default English Layout: menu | title | spacer | theme | lang */
@media (max-width: 1023px) {
  .mobile-nav-content {
    display: flex;
    align-items: center;
    height: 56px;
    padding: 0 16px;
    gap: 12px;
  }
  
  /* Default order for English */
  #mobile-menu-toggle { order: 1; }
  .mobile-title-link { order: 2; margin-left: 8px; margin-right: 0; }
  .mobile-spacer { order: 3; }
  #mobile-theme-toggle { order: 4; }
  #mobile-language-switcher { order: 5; }
}

/* 14. Arabic Layout: lang | theme | spacer | title | menu */
@media (max-width: 1023px) {
  :lang(ar) .mobile-nav-content {
    direction: ltr; /* Keep container LTR for proper flex ordering */
  }
  
  /* Arabic arrangement */
  :lang(ar) #mobile-language-switcher { order: 1; }
  :lang(ar) #mobile-theme-toggle { order: 2; }
  :lang(ar) .mobile-spacer { order: 3; }
  :lang(ar) .mobile-title-link { 
    order: 4; 
    margin-left: 0; 
    margin-right: 8px;
    direction: rtl;
    text-align: right;
  }
  :lang(ar) #mobile-menu-toggle { order: 5; }
}

/* ====== BUTTON POSITIONING FOR RTL - DESKTOP ONLY ====== */

/* Desktop: Keep buttons on the RIGHT side for Arabic */
@media (min-width: 1024px) {
  :lang(ar) div:has(> #language-switcher),
  :lang(ar) div:has(> #theme-toggle-button) {
    /* Don't change desktop positioning - keep on right */
    z-index: 9999 !important; /* But ensure they're above other content */
  }
  
  :lang(ar) div[class*="lg:fixed"][class*="gap-6"] {
    z-index: 9999 !important;
  }
}

/* ====== SPACING REDUCTION (ALL LANGUAGES) ====== */

/* 15. Reduce Header Spacing - Desktop only */
@media (min-width: 1024px) {
  header:not(.post-header) {
    margin-bottom: 1.5rem !important;
  }
}

/* 16. Reduce Navigation Spacing - Desktop only */
@media (min-width: 1024px) {
  nav[aria-label="Site Navigation"] {
    margin-bottom: 2rem !important;
  }
}

/* ====== MOBILE SPECIFIC STYLES ====== */

/* 17. Mobile body padding adjustment */
@media (max-width: 1023px) {
  body {
    padding-top: 56px !important;
    padding-left: min(7.25vw, 3.731rem) !important;
    padding-right: min(7.25vw, 3.731rem) !important;
    padding-bottom: 2.5rem !important;
  }

  /* Hide desktop elements on mobile */
  .lg\:block {
    display: block !important;
  }
  
  @media (max-width: 1023px) {
    .lg\:block {
      display: none !important;
    }
  }
}

/* ====== RTL SUPPORT ====== */

/* 18. Mobile RTL Layout */
@media (max-width: 1023px) {
  :lang(ar) main,
  :lang(ar) footer {
    direction: rtl;
    text-align: right;
  }
  
  /* Mobile navbar container stays LTR for flex ordering */
  :lang(ar) #mobile-navbar {
    direction: ltr;
  }
  
  /* But individual Arabic text elements are RTL */
  :lang(ar) .mobile-title-link,
  :lang(ar) .mobile-menu-item {
    direction: rtl !important;
    text-align: right !important;
  }
}

/* ====== TEXT FLOW IMPROVEMENTS ====== */

/* 19. Arabic Text Direction for All Elements */
:lang(ar) h1,
:lang(ar) h2, 
:lang(ar) h3,
:lang(ar) h4,
:lang(ar) h5,
:lang(ar) h6,
:lang(ar) p,
:lang(ar) li,
:lang(ar) a,
:lang(ar) span,
:lang(ar) div {
  direction: rtl;
  text-align: right;
}

/* 20. Arabic List Styling */
:lang(ar) ul,
:lang(ar) ol {
  direction: rtl;
  text-align: right;
  padding-right: 1.5rem;
  padding-left: 0;
}

/* 21. Arabic Link Styling */
:lang(ar) a {
  direction: rtl;
}

/* ====== MOBILE NAVBAR RESPONSIVE FINE-TUNING ====== */

/* 22. Ensure proper touch targets on mobile */
@media (max-width: 1023px) {
  .mobile-hamburger,
  .mobile-btn {
    min-width: 44px;
    min-height: 44px;
    flex-shrink: 0;
  }
  
  .mobile-title-link {
    flex-shrink: 0;
    white-space: nowrap;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .mobile-spacer {
    flex: 1;
    min-width: 12px;
  }
}

/* ====== FONT LOADING OPTIMIZATION ====== */

/* 23. Ensure fonts load properly for mobile navbar */
@media (max-width: 1023px) {
  .mobile-title-link {
    font-display: swap;
    font-feature-settings: "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  :lang(ar) .mobile-title-link,
  :lang(ar) .mobile-menu-item {
    font-display: swap;
    font-feature-settings: "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}
